\documentclass[10pt,twocolumn,lettersize]{article}

\newlength{\zerosep}
[% if use_dnd_decorations %]
  \usepackage[layout=true]{dnd}
  \setlength{\zerosep}{0em}
[% else %]
  \usepackage[margin=1.5cm]{geometry}
  \usepackage[dvipsnames]{color}
  \definecolor{mygrey}{gray}{0.7}
  \setlength{\zerosep}{-1em}
[% endif %]

[% include 'preamble.tex' %]

\title{Features and Magic Items}
\author{[[ character.name ]]}
\date{}

%%% Fallback definitions for Docutils-specific commands
[% raw %]
\usepackage{longtable,ltcaption,array}
\setlength{\extrarowheight}{2pt}
\newlength{\DUtablewidth} % internal use in tables
% admonition (specially marked topic)
\providecommand{\DUadmonition}[2][class-arg]{%
  % try \DUadmonition#1{#2}:
  \ifcsname DUadmonition#1\endcsname%
    \csname DUadmonition#1\endcsname{#2}%
  \else
    \begin{center}
      \fbox{\parbox{0.9\linewidth}{#2}}
    \end{center}
  \fi
}

% title for topics, admonitions, unsupported section levels, and sidebar
\providecommand*{\DUtitle}[2][class-arg]{%
  % call \DUtitle#1{#2} if it exists:
  \ifcsname DUtitle#1\endcsname%
    \csname DUtitle#1\endcsname{#2}%
  \else
    \smallskip\noindent\textbf{#2}\smallskip%
  \fi
}
[% endraw %]

\begin{document}

\maketitle

\section*{Subclasses}
           
[% for sc in character.subclasses if sc not in ['', None, 'None', 'none']%]

  \subsection*{Subclass: [[ sc.name ]]}

  [[ sc.__doc__ | rst_to_latex(top_heading_level=2) ]]

[% endfor %]
  
\section*{Features}

[% for feat in character.features %]

  \subsection*{[[ feat.name ]]}

  \noindent
  \textbf{Source:} [[ feat.source ]] \\

  [% if feat.needs_implementation %] %
    \textbf{**Not included in stats on Character Sheet} %
  [% endif %] %
             
  [[ feat.__doc__|rst_to_latex ]]

[% endfor %]

\section*{Magic Items}

[% for mitem in character.magic_items %]

  \subsection*{[[ mitem.name ]]}

  \noindent
  \textbf{Requires Attunement:} [[ mitem.requires_attunement ]] \\
  \textbf{Rarity:} [[ mitem.rarity ]] \\

  [% if mitem.needs_implementation %] %
    \textbf{**Not included in stats on Character Sheet} %
  [% endif %] %
             
  [[ mitem.__doc__|rst_to_latex ]]

  [% endfor %]
    
\end{document}
