\documentclass[10pt,twocolumn,lettersize]{article}

\newlength{\zerosep}
[% if use_dnd_decorations %]
  \usepackage[layout=true]{dnd}
  \setlength{\zerosep}{0em}
[% else %]
  \usepackage[margin=1.5cm]{geometry}
  \usepackage[dvipsnames]{color}
  \definecolor{mygrey}{gray}{0.7}
  \setlength{\zerosep}{-1em}
[% endif %]

[% include 'preamble.tex' %]

\title{Spell Descriptions}
\author{[[ character.name ]]}
\date{}

%%% Fallback definitions for Docutils-specific commands
[% raw %]
% admonition (specially marked topic)
\providecommand{\DUadmonition}[2][class-arg]{%
  % try \DUadmonition#1{#2}:
  \ifcsname DUadmonition#1\endcsname%
    \csname DUadmonition#1\endcsname{#2}%
  \else
    \begin{center}
      \fbox{\parbox{0.9\linewidth}{#2}}
    \end{center}
  \fi
}

% title for topics, admonitions, unsupported section levels, and sidebar
\providecommand*{\DUtitle}[2][class-arg]{%
  % call \DUtitle#1{#2} if it exists:
  \ifcsname DUtitle#1\endcsname%
    \csname DUtitle#1\endcsname{#2}%
  \else
    \smallskip\noindent\textbf{#2}\smallskip%
  \fi
}
[% endraw %]


\begin{document}

\maketitle

[% for spl in character.spells %]

  \section*{[[ spl.name ]]}

  [% if spl.level > 0 %] %
    \textit{[[ spl.magic_school ]] Level [[ spl.level ]]} %
  [% else %] %
    \textit{[[ spl.magic_school ]] Cantrip} %
  [% endif %] %
  [% if spl.ritual and spl.concentration %]%
    (\textit{ritual}, \textit{concentration})%
  [% elif spl.ritual %]%
    (\textit{ritual})%
  [% elif spl.concentration %]%
    (\textit{concentration})%
  [% endif %]%            
             
  %% \noindent
  \begin{description}
    \setlength{\itemsep}{\zerosep}%
    \setlength{\parskip}{0pt}%
    \item [Casting Time:] [[ spl.casting_time ]] \\
    \item [Duration:] [[ spl.duration ]] \\
    \item [Range:] [[ spl.casting_range ]] \\
    \item [Components:] [[ spl.component_string ]]
  \end{description}
  \vspace{\zerosep}

  [[ spl.__doc__ | rst_to_latex(top_heading_level=1) ]]

[% endfor %]

\end{document}
